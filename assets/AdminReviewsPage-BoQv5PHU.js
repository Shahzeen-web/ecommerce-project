import{g as t,j as e,q as o}from"./index-CKi5KXhe.js";const m=()=>{const[n,c]=t.useState([]),[l,a]=t.useState(!0),i=async()=>{try{const s=await o.get("/api/admin/reviews",{withCredentials:!0});c(s.data),a(!1)}catch(s){console.error("Error loading reviews:",s),a(!1)}},d=async(s,r)=>{try{await o.put(`/api/admin/reviews/${s}`,{isApproved:r},{withCredentials:!0}),i()}catch(x){console.error("Error updating review:",x)}};return t.useEffect(()=>{i()},[]),l?e.jsx("div",{className:"p-6",children:"Loading pending reviews..."}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pending Product Reviews"}),n.length===0?e.jsx("p",{children:"No reviews to moderate."}):n.map(s=>{var r;return e.jsxs("div",{className:"border p-4 rounded mb-4 shadow",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",((r=s.user)==null?void 0:r.name)||"User"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Product ID:"})," ",s.productId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rating:"})," ","★".repeat(s.rating)+"☆".repeat(5-s.rating)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Comment:"})," ",s.comment]}),s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:"review",className:"mt-2 w-32 rounded-md"}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{onClick:()=>d(s.id,!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-1 rounded",children:"Approve"}),e.jsx("button",{onClick:()=>d(s.id,!1),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded",children:"Reject"})]})]},s.id)})]})};export{m as default};
