import{o as w,x as f,g as i,j as e,L as N,q as y}from"./index-CbLiTEaX.js";import{u as S}from"./index.esm-DVvEwWh3.js";const v=void 0;function q(){const p=w(),g=f(a=>a.setToken),[l,d]=i.useState(""),[c,o]=i.useState(""),[r,m]=i.useState(!1),{register:t,handleSubmit:h,formState:{errors:s},watch:b}=S(),j=async a=>{var u,x;d(""),o(""),m(!0);try{const n=await y.post(`${v}/api/auth/register`,a);g(n.data.token),o("Account created successfully! Redirecting..."),setTimeout(()=>p("/"),1500)}catch(n){d(((x=(u=n.response)==null?void 0:u.data)==null?void 0:x.message)||"Signup failed")}finally{m(!1)}};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:e.jsxs("div",{className:"max-w-md w-full p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Sign Up"}),e.jsxs("form",{onSubmit:h(j),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Name"}),e.jsx("input",{type:"text",...t("name",{required:"Name is required"}),className:"w-full border p-2 rounded"}),s.name&&e.jsx("p",{className:"text-red-500 text-sm",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Email"}),e.jsx("input",{type:"email",...t("email",{required:"Email is required"}),className:"w-full border p-2 rounded"}),s.email&&e.jsx("p",{className:"text-red-500 text-sm",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Password"}),e.jsx("input",{type:"password",...t("password",{required:"Password is required"}),className:"w-full border p-2 rounded"}),s.password&&e.jsx("p",{className:"text-red-500 text-sm",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",...t("confirmPassword",{required:"Please confirm your password",validate:a=>a===b("password")||"Passwords do not match"}),className:"w-full border p-2 rounded"}),s.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm",children:s.confirmPassword.message})]}),l&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:l}),c&&e.jsx("p",{className:"text-green-600 text-sm text-center",children:c}),e.jsx("button",{type:"submit",disabled:r,className:`w-full py-2 rounded text-white ${r?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:r?"Signing up...":"Sign Up"})]}),e.jsxs("div",{className:"mt-4 text-sm text-center",children:["Already have an account?"," ",e.jsx(N,{to:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})}export{q as default};
