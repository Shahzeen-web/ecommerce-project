import{w as m,o as u,g as h,j as e,L as p}from"./index-CQLRxxH3.js";const g=void 0,b=()=>{const{cartItems:a,removeItem:d,updateQuantity:r}=m(),i=u(),x=h.useMemo(()=>a.reduce((s,t)=>s+t.price*t.quantity,0),[a]);return!a||a.length===0?e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),e.jsxs("p",{children:["Your cart is empty."," ",e.jsx(p,{to:"/",className:"text-blue-600 underline",children:"Continue Shopping"})]})]}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),e.jsx("div",{className:"space-y-4",children:a.map(s=>{var l,n,c;const t=(l=s.imageUrl)!=null&&l.startsWith("http")?s.imageUrl:`${g}${(n=s.imageUrl)!=null&&n.startsWith("/")?s.imageUrl:`/${s.imageUrl}`}`;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded shadow",children:[e.jsx("img",{src:t,alt:s.name,loading:"lazy",className:"w-20 h-20 object-cover rounded",onError:o=>{o.target.onerror=null,o.target.src="https://dummyimage.com/100x100/cccccc/000000&text=No+Image"}}),e.jsxs("div",{className:"flex-1 ml-4",children:[e.jsx("h2",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:(c=s.category)==null?void 0:c.name}),e.jsxs("p",{className:"text-blue-600 font-semibold",children:["Rs ",s.price]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>r(s.id,Math.max(1,s.quantity-1)),children:"-"}),e.jsx("span",{children:s.quantity}),e.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>r(s.id,s.quantity+1),children:"+"})]}),e.jsx("button",{onClick:()=>d(s.id),className:"ml-4 text-red-500 hover:underline",children:"Remove"})]},s.id)})}),e.jsxs("div",{className:"mt-6 text-right",children:[e.jsxs("p",{className:"text-xl font-bold mb-4",children:["Total: Rs ",x]}),e.jsx("button",{onClick:()=>i("/checkout"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Proceed to Checkout"})]})]})};export{b as default};
