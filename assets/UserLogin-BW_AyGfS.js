import{B as h,A as f,o as w,g as u,j as e,L as c,q as j}from"./index-ChZqENbQ.js";const N=void 0;function y(){const{register:a,handleSubmit:m}=h(),x=f(t=>t.setToken),p=w(),[s,r]=u.useState(!1),[o,n]=u.useState(""),b=async t=>{var l,d;n(""),r(!0);try{const g=(await j.post(`${N}/api/auth/login`,t)).data.token;x(g),p("/")}catch(i){n(((d=(l=i.response)==null?void 0:l.data)==null?void 0:d.message)||"Invalid email or password. Try again.")}finally{r(!1)}};return e.jsxs("div",{className:"max-w-sm mx-auto p-6 mt-10 border rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"User Login"}),o&&e.jsx("div",{className:"mb-4 text-red-600 text-sm bg-red-100 p-2 rounded",children:o}),e.jsxs("form",{onSubmit:m(b),className:"space-y-4",children:[e.jsx("input",{...a("email",{required:!0}),type:"email",className:"w-full border p-2 rounded",placeholder:"Email"}),e.jsx("input",{type:"password",...a("password",{required:!0}),className:"w-full border p-2 rounded",placeholder:"Password"}),e.jsx("button",{type:"submit",disabled:s,className:`w-full text-white p-2 rounded ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:s?"Logging in...":"Login"})]}),e.jsxs("div",{className:"mt-4 text-sm flex justify-between",children:[e.jsx(c,{to:"/forgot-password",className:"text-blue-600 hover:underline",children:"Forgot Password?"}),e.jsx(c,{to:"/signup",className:"text-blue-600 hover:underline",children:"Create Account"})]})]})}export{y as default};
