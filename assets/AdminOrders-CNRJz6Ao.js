import{g as d,j as e,q as l}from"./index-gjNbAg0c.js";const x=()=>{const[n,c]=d.useState([]),t=async()=>{try{const s=await l.get("/api/orders",{withCredentials:!0});c(s.data)}catch(s){console.error("Error fetching orders:",s)}},i=async(s,r)=>{try{await l.put(`/api/orders/${s}`,{status:r},{withCredentials:!0}),t()}catch(a){console.error("Error updating order:",a)}};return d.useEffect(()=>{t()},[]),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manage Orders"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2",children:"Order ID"}),e.jsx("th",{className:"border px-4 py-2",children:"Customer"}),e.jsx("th",{className:"border px-4 py-2",children:"Total"}),e.jsx("th",{className:"border px-4 py-2",children:"Status"}),e.jsx("th",{className:"border px-4 py-2",children:"Update"})]})}),e.jsx("tbody",{children:n.map(s=>{var r;return e.jsxs("tr",{children:[e.jsx("td",{className:"border px-4 py-2",children:s.id}),e.jsx("td",{className:"border px-4 py-2",children:(r=s.user)==null?void 0:r.email}),e.jsxs("td",{className:"border px-4 py-2",children:["Rs ",s.totalAmount]}),e.jsx("td",{className:"border px-4 py-2",children:s.status}),e.jsx("td",{className:"border px-4 py-2",children:e.jsxs("select",{value:s.status,onChange:a=>i(s.id,a.target.value),className:"border px-2 py-1 rounded",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Shipped",children:"Shipped"}),e.jsx("option",{value:"Delivered",children:"Delivered"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},s.id)})})]})})]})};export{x as default};
